{"$schema":"The master rulebook and documentation for the entire project.","core_philosophy":{"principle_1":{"name":"No Math, All Vibes","desc":"This is a narrative-driven experience. Combat, stats, and progress are described through storytelling, not calculations. Numerical data in files (like type effectiveness) is used as a key for narration, not for mathematical formulas."},"principle_2":{"name":"The Wild Card Player","desc":"The player is not the pre-destined hero of the original story. We are a random trainer forging our own path. The story happens around us, and we are an unpredictable element within it. Our actions can and will change the established timeline."},"principle_3":{"name":"A Connected World","desc":"The regions of Kanto, Johto, Hoenn, and Sinnoh exist on the same planet in the same timeline. There are no hard borders. Pokémon, people, and culture migrate between them. A trainer from Johto could have a Pokémon from Hoenn; a character from Sinnoh could appear in Kanto."},"principle_4":{"name":"The Rom Hack Baseline","desc":"This world operates on a specific ruleset. Content Scope: The available Pokémon species are limited to those introduced in Generations 1 through 6 (Kanto to Kalos). Mechanical Base: All underlying game mechanics (Type Effectiveness, move properties, etc.) adhere to the standards of Pokémon Brilliant Diamond & Shining Pearl (BDSP - Gen 8)."}},"game_systems":{"bond_system":{"desc":"Represents the trust and relationship between the player and their Pokémon. Higher bond levels can unlock new narrative possibilities in and out of battle.","levels":{"Acquaintance":"A new partner. The bond is fresh and untested.","Friendly":"A trusted companion. There's a clear sense of mutual respect.","Loyal":"A hardened partner who would go to great lengths for their trainer.","Ride-or-Die":"An unbreakable bond forged through countless trials. They operate on a near-telepathic level.","Soul Bond":"A legendary, once-in-a-generation connection that transcends normal limits, akin to Ash-Greninja. This is a rare, story-driven bond that may manifest in unique ways."}},"stance_system":{"desc":"A fluid tactical system based on a Pokémon's mindset. The player can declare a Stance for their Pokémon, and NPCs will favor Stances based on their personality. This is not a rock-paper-scissors system; it is a narrative tool to guide strategy and flavor descriptions.","stances":{"Relentless":"Pure, overwhelming offense. The goal is to end the fight quickly with direct, powerful attacks.","Patient":"A defensive, observant approach. The goal is to endure hits and create the perfect moment for a counter-attack.","Cunning":"A tricky, disruptive style. The goal is to use status moves and environmental advantages to control the battle.","Balanced":"The default, adaptable mindset. A mix of offense and defense, reacting to the opponent as they come."}},"evolution_triggers":{"desc":"Evolution is a narrative event, not a level-up grind. It is triggered by story beats, emotional moments, or achieving a specific feat as described in the pokedex.json 'et' field. It's about the journey, not the XP bar."},"reputation_system":{"desc":"The player's reputation in each region is tracked in save_data.json. Gaining reputation through major deeds can change how NPCs react, unlock new quests, or alter the 'state' of the region itself."},"npc_affection_system":{"desc":"Affection is tracked for 'dynamic' NPCs in save_data.json. Positive or negative changes to affection, triggered by quests or social events, can alter an NPC's dialogue, their willingness to help, or the rewards they offer."},"economy":{"name":"Barter System","desc":"There is no money. All transactions are handled through bartering items. The value of items is subjective and narrative-driven."},"narrative_health":{"desc":"Pokémon health is tracked with narrative states instead of HP numbers.","states":["Healthy","Bruised","Rough","Critical","Fainted"]},"type_effectiveness":{"Normal":{"Rock":0.5,"Ghost":0,"Steel":0.5},"Fire":{"Fire":0.5,"Water":0.5,"Grass":2,"Ice":2,"Bug":2,"Rock":0.5,"Dragon":0.5,"Steel":2},"Water":{"Fire":2,"Water":0.5,"Grass":0.5,"Ground":2,"Rock":2,"Dragon":0.5},"Electric":{"Water":2,"Electric":0.5,"Grass":0.5,"Ground":0,"Flying":2,"Dragon":0.5},"Grass":{"Fire":0.5,"Water":2,"Grass":0.5,"Poison":0.5,"Ground":2,"Flying":0.5,"Bug":0.5,"Rock":2,"Dragon":0.5,"Steel":0.5},"Ice":{"Fire":0.5,"Water":0.5,"Grass":2,"Ice":0.5,"Ground":2,"Flying":2,"Dragon":2,"Steel":0.5},"Fighting":{"Normal":2,"Ice":2,"Poison":0.5,"Flying":0.5,"Psychic":0.5,"Bug":0.5,"Rock":2,"Ghost":0,"Dark":2,"Steel":2,"Fairy":0.5},"Poison":{"Grass":2,"Poison":0.5,"Ground":0.5,"Rock":0.5,"Ghost":0.5,"Steel":0,"Fairy":2},"Ground":{"Fire":2,"Electric":2,"Grass":0.5,"Poison":2,"Flying":0,"Bug":0.5,"Rock":2,"Steel":2},"Flying":{"Electric":0.5,"Grass":2,"Fighting":2,"Bug":2,"Rock":0.5,"Steel":0.5},"Psychic":{"Fighting":2,"Poison":2,"Psychic":0.5,"Dark":0,"Steel":0.5},"Bug":{"Fire":0.5,"Grass":2,"Fighting":0.5,"Poison":0.5,"Flying":0.5,"Psychic":2,"Ghost":0.5,"Dark":2,"Steel":0.5,"Fairy":0.5},"Rock":{"Fire":2,"Ice":2,"Fighting":0.5,"Ground":0.5,"Flying":2,"Bug":2,"Steel":0.5},"Ghost":{"Normal":0,"Psychic":2,"Ghost":2,"Dark":0.5},"Dragon":{"Dragon":2,"Steel":0.5,"Fairy":0},"Dark":{"Psychic":2,"Ghost":2,"Fighting":0.5,"Dark":0.5,"Fairy":0.5},"Steel":{"Ice":2,"Rock":2,"Fairy":2,"Fire":0.5,"Water":0.5,"Electric":0.5,"Steel":0.5},"Fairy":{"Fighting":2,"Dragon":2,"Dark":2,"Fire":0.5,"Poison":0.5,"Steel":0.5}},"environment_modifiers":{"desc":"World conditions that color narration. They never override Type Law.","weather":{"Clear":"Scenes read crisp; dust/sand effects feel weaker.","Rain":"Water feels heavier; fire sputters; footing slick.","Sandstorm":"Grit stings eyes; rock/ground moves feel raw; visibility low.","Hail":"Air bites; ice motifs cut; delicate flyers struggle.","Fog":"Sound carries weird; precision suffers; surprises land harder.","Storm":"Thunder punctuates beats; aerial moves feel risky, epic."},"time_of_day":{"Morning":"Fresh starts, sharper openings, calmer crowds.","Noon":"Harsh light, endurance reads; heat presses on tempo.","Evening":"Colors warm; emotions swell; comebacks land cinematic.","Night":"Shadows help trickery; sleepy crowds; sound pops louder."}},"status_to_health_guidance":{"desc":"Status colors scenes; health tracks overall condition.","Burn":"Attacks feel labored; contact moves read risky.","Paralysis":"Starts hitch; initiative beats slow or stutter.","Poison":"Ticking pressure; breaths short; choices feel costly.","Sleep":"Vulnerable lull; dream motifs; external wake cues matter.","Freeze":"Stiffness; shards; motion is a struggle until thaw."},"cinematic_triggers":{"desc":"When these narrative tells appear, you MAY frame a crit/flinch scene. Do not change Type outcomes.","crit_tells":["Setup-to-payoff chain lands (earlier feint or stance bait now resolves).","Environmental alignment is nailed (e.g., Rock Slide during Sandstorm).","Move has canon higher crit vibe (e.g., Slash) and scene emphasizes precision."],"flinch_tells":["Sudden sensory spike (thunder crack, spotlight, quake) interrupts rhythm.","Heavy impact lands from above/behind (falling boulder, aerial dive).","Target’s status/terrain makes them skittish (ice underfoot, fog jump-scare)."],"fairness_rule":"Use at most one big swing (crit OR flinch) per short battle unless logs justify a rematch beat."},"story_capture":{"desc":"Catches happen only on story flags; never via grind.","flags":["Mutual consent after shared ordeal/rescue.","Quest closure where the Pokémon chooses the trainer.","Fate echo: recurring encounter across regions/time.","Mentor/League-sanctioned gift for a milestone."],"hard_rule":"If no flag, no capture. Use items/balls for flavor only."},"arena_atmosphere":{"desc":"In Gyms/Indigo/Elite, crowds color narration only.","effects":["Chants, gasps, pressure beats, spotlight cues.","NPC quips, judge counts, timer calls."],"hard_rule":"No bonuses or penalties. Cascade outcomes remain unchanged."}},"player_systems":{"environmental_tagging":{"desc":"When the player enters a new area with distinct environmental features, the DM will use the 'Riff' principle to assess it and temporarily add descriptive tags to the player's location data in save_data.json. These tags are used to modify narrative and combat, and are wiped when the player leaves the location."},"session_temp_updates": "Story state changes (NPCs met, items gained, quest flags, barter records, etc.) are tracked in temporary session memory and only committed to save_data.json and logs.json at the end of the session, unless explicitly written earlier.","pokedex_scanner":{"desc":"The Pokédex is an on-demand tool, not a checklist. Using keywords like 'Scan' or 'Dex' on a target will provide information based on the Pokédex's current mode.","modes":{"regional":"Default mode. Can successfully scan any Pokémon native to the current region. Data for Pokémon from other regions may be corrupted or 'Unknown.'","national":"An upgrade. Can successfully scan any Pokémon from any known region. May enable advanced scanning features."}}},"data_architecture":{"npc_handling":{"desc":"Defines how NPC data is stored and managed.","one_off_npcs":"Random trainers or insignificant characters are not saved in npcs.json. They are generated on the fly for narration and then forgotten, unless specified otherwise.","key_npcs":"Important characters (Gym Leaders, Rivals, key plot figures, etc.) are stored in npcs.json. This file serves as their permanent 'blueprint'.","dynamic_npc_tracking":"Changes to 'dynamic' class NPCs (location, party, affection) are tracked in save_data.json to reflect their growth and movement throughout the story."},"file_purposes":{"desc":"Each file serves a specific, optimized purpose for efficient RAG.","pokedex.json":"Master encyclopedia of all Pokémon species.","moves.json":"Master list of all Pokémon moves.","items.json":"Master list of all items, from Poké Balls to key items.","regions.json":"Lore and the initial 'vanilla' state of each region.","npcs.json":"Blueprints for all key, recurring characters.","save_data.json":"The player's unique character sheet and the live state of the world.","logs.json":"The permanent, long-term archive of the entire journey."},"save_and_log_system":{"desc":"The 'rolling log' system for managing memory and story.","short_term_memory":"The save_data.json file holds the logs for only the most recent two days of the journey. This keeps the file lean and provides immediate context for narration.","long_term_archive":"At the end of each in-game day (triggered by resting), the oldest day's log from save_data.json is permanently archived into logs.json, ensuring the full story is never lost."}},"ruleset_overrides":{"encounter_precedence":{"desc":"Deterministic order when sources disagree.","order":["TYPE_LAW (rules.json > type chart) decides effectiveness only.","ENVIRONMENT TAGS (save_data.pi.loc.tags) decide WHO appears.","TERRAIN TAGS decide HOW they appear and micro-advantages."],"conflict_policy":{"no_intersection":"Pull up to 3 nearest-tag neighbors via indices; pick the one most consistent with region state.","equal_fit":"Use last significant log’s tone to set vibe (exploration vs danger), then choose accordingly.","audit_trail":"Write a one-line reason in 02_logs for visibility."}}},"narration_mode":{"camera_system":{"WIDE":"Social: dialogue, NPC personality, party non-verbal beats.","MEDIUM":"Exploration: setting vibe, environment tags, scene texture.","CLOSE":"Action: cinematic detail; HIJACK when move keywords appear."}},"notes":{"combat_resolution_logic_note":"Step 2 includes Environment + Weather + Time-of-Day from save_data and only affects narration density/tempo; cannot override Type Law."}}